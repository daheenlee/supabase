const { createClient } = require("@supabase/supabase-js");
const promptSync = require("prompt-sync");
const prompt = promptSync();

const URL = "https://epwslgqtffhxtpbomocs.supabase.co";
const KEY =
  "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVwd3NsZ3F0ZmZoeHRwYm9tb2NzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYyOTE3NDIsImV4cCI6MjA3MTg2Nzc0Mn0.ggioxbl-aw8qJQHUQ3O2wrhw5c-l8_Mxl2lyXO15r5o";
const supabase = createClient(URL, KEY);

const menuSelect = async () => {
  console.log("start!");

  const { data } = await supabase.from("menu").select("*");
  console.table(data);
};

const addICecream = async () => {
  console.log("start!");
  const result = await supabase
    .from("menu")
    .insert({ name: "아이스크림", price: 5000, kcal: 300 });
  console.log(result);
};

const addUser = async () => {
  const names = prompt("이름을 입력하시오");
  const prices = prompt("가격을입력하시오");
  const kcals = prompt("칼로리는?");

  console.log("start!");
  const result = await supabase
    .from("menu")
    .insert({ name: names, price: prices, kcal: kcals });
  console.log(result);
};

menuSelect();
